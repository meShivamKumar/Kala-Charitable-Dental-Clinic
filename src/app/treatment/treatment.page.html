<ion-header>
  <ion-toolbar>
    <ion-title class="ion-text-center">Treatment</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="form1" (ngSubmit)="addTreatment()">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-list>
            <ion-item>
              <ion-label>ID:</ion-label>
              <ion-input #id type="text" id="id" placeholder="Enter ID"></ion-input>
              <ion-button (click)="getid(id.value)"> Search </ion-button>
            </ion-item>

            <ion-item>
              <ion-label position="floating">NAME:</ion-label>
              <ion-input placeholder="Name" readonly="true" value="{{patient.name}}"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">ADDRESS:</ion-label>
              <ion-input readonly="true" placeholder="Enter Address" value="{{patient.address}}"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">DATE OF REGISTRATION</ion-label>
              <ion-input readonly="true" placeholder="Enter Date" value="{{patient.date}}"></ion-input>
            </ion-item>
            <br>
            <ion-title>Treatments</ion-title>
          
              <ion-grid> 
              <ion-row>
               
                <ion-col size="2" class="cell-class"><ion-item>
                  
                  <ion-label><strong> (DD/MM/YYYY)</strong></ion-label></ion-item>
               
                <ion-item><ion-input type="date" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" formControlName="date" placeholder="DD/MM/YYYY"></ion-input></ion-item> </ion-col>
                <ion-col size="5" class="cell-class workdone"><ion-item>
                  <ion-label><strong> WORKDONE</strong></ion-label>
                </ion-item>
                  <ion-item>
                    
                    <ion-select formControlName="workDone" interface="alert" placeholder="tap to select" >
                      <ion-select-option value="">Nothing</ion-select-option>
                      <ion-select-option  *ngFor="let a of list">{{a.name}}</ion-select-option>
                   
                    </ion-select>
                   <ion-input formControlName="workDone" placeholder="Write Here"></ion-input></ion-item>
                </ion-col>
                
                <ion-col  size="3" class="cell-class"><ion-item>
                  <ion-label><strong> TOTAL AMOUNT ₹</strong></ion-label></ion-item>
                 <ion-item> ₹ <ion-input type="number" formControlName="totalAmount"></ion-input></ion-item>
                </ion-col>
                <ion-col size="2" class="cell-class"><ion-item>
                  <ion-label><strong> PAID AMOUNT ₹ </strong></ion-label></ion-item>
                 <ion-item>  ₹<ion-input type="number" formControlName="paidAmount"></ion-input></ion-item>
                </ion-col>
              </ion-row>
<div>
  
</div>
</ion-grid>
<ion-button (click)="addTreatment()"  [disabled]="!form1.valid">Save</ion-button>
<ion-title>Treatments</ion-title>
          
<ion-grid *ngFor="let a of treatmentValues index as i"> 
<ion-row>
 
  <ion-col size="2" class="cell-class"><ion-item>
    
    <ion-label><strong> (DD/MM/YYYY)</strong></ion-label></ion-item>
 
  <ion-item><ion-input type="date" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" placeholder="DD/MM/YYYY" value="{{a.date}}"></ion-input></ion-item> </ion-col>
  <ion-col size="5" class="cell-class workdone"><ion-item>
    <ion-label><strong> WORKDONE</strong></ion-label>
  </ion-item>
    <ion-item>
      
     <ion-input  placeholder="Write Here" value="{{a.workDone}}"></ion-input></ion-item>
  </ion-col>
  
  <ion-col  size="3" class="cell-class"><ion-item>
    <ion-label><strong> TOTAL AMOUNT ₹</strong></ion-label></ion-item>
   <ion-item> ₹ <ion-input type="number" value="{{a.totalAmount}}" ></ion-input></ion-item>
  </ion-col>
  <ion-col size="2" class="cell-class"><ion-item>
    <ion-label><strong> PAID AMOUNT ₹ </strong></ion-label></ion-item>
   <ion-item>  ₹<ion-input type="number" value="{{a.paidAmount}}"></ion-input></ion-item>
   <ion-item *ngFor="let amt of a.visit">  ₹<ion-input value="{{amt}}" ></ion-input></ion-item>
   <ion-item>  ₹<ion-input #visit type="number" id="visit" ></ion-input></ion-item>
   <ion-item> Total ₹<ion-label>{{a.totalPaid}}</ion-label></ion-item>
  </ion-col>
  <ion-item> <ion-button color="danger" (click)="delete(i)">Delete</ion-button>
    <ion-button color="success" (click)="addVisit(visit.value,i,a.visit,a.totalPaid)">Save</ion-button></ion-item>
</ion-row>

<div>

</div>
</ion-grid>


            <!-- 
  <ion-item>
    <ion-label position="floating">CONTACT NUMBER:</ion-label>
    <ion-input formControlName="contact" placeholder="Enter Contact"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label position="floating">ENTER AGE</ion-label>
    <ion-input formControlName="age" placeholder="Enter Age"></ion-input>
  </ion-item>
  
  <ion-item>
    <ion-label>GENDER</ion-label>
    <select formControlName="gender">
      <option >
        Male
      </option>
      <option >
       Female
      </option>
      <option >
        Others
      </option>
    </select></ion-item>
    <ion-item>
      <ion-label position="floating">DATE</ion-label>
      <ion-input formControlName="date" placeholder="Enter Date"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating">ENTER DEPARTMENT</ion-label>
      <ion-input formControlName="dept" placeholder="Enter Department"></ion-input>
    </ion-item>
  
   
  <ion-row>
    <ion-col>
    <ion-button type="submit" expand="full" >Submit</ion-button></ion-col>
    <ion-col>
    <ion-button color="danger" fill="solid" expand="full" >Cancel</ion-button></ion-col></ion-row> -->
          </ion-list>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>




</ion-content>